# 总结与感想



## 总结

真要总结的话，感觉就是平平淡淡，按部就班，没啥好总结的。只是毕竟编译理论也学了不少东西，实验也写了不少代码，总不能就这么简单地让它过去。

### 理论

还可以，学得比较认真

~~除了考试的时候LR分析表没看表头抄了两遍导致没做完题外，好像没啥好说的~~

理论课给我的印象就是机械、繁琐、按部就班。理论课并不指望我们能学会多么精深的优化技巧或者多么深刻的定理与证明，它只是为了让我们了解掌握编译的基本方法而设计的。相比于形式语言，编译的理论课就显得更加刻板无聊，更加繁琐却也更加实干。这不是编译这门课的缺点，只能说是它的特点。

再对比大一的数学分析，编译的符号和概念系统可谓是冗长而机械，没有那种数学课的美感，这不得不说是一个很大的缺憾，仅对我而言。不过尽管如此，通盘复习一遍之后可以发现，实际上如果翻译成大白话，那编译中的很多东西都是显然而简单的。其实第一遍学习时我们只是很难直接从繁复的术语和漫长而毫无加粗的课本中体察到其中简洁而sharp的思想，误以为编译这门课就是故意把东西写得叫人看不懂。

### 实验

走了不少弯路

最大的教训：不要想着螺蛳壳里做道场，也不要指望可以一劳永逸

为了实现$\mathcal O(n)$数据流分析de了一周的bug，最后对其他优化也没起到什么帮助。还是踏踏实实，目标放低，比较靠谱。另外其实$\mathcal O(n^2)$的做法由于分支指令只能产生之多2的出度，根本不会很慢，可我却没有意识到，也可以认为我这是错误估计带来的苦果。

好不容易调通代码，上了图染色和死代码抠除，一看排名14/80，觉得一切都是那么岁月静好，感觉编译实验也没多卷，我还是太naive了。最后一个星期竞速榜忽然暗流涌动，几天不看排名掉几十，顷刻间就从岁月静好变成天上大风，身处漩涡之中只能身不由己。

经过几天紧急抢救，终于大部分点的排名还是回到了前十，尽管时间所限还有优化没有做完，但总归还是上岸了。

## 给课程组的建议

+ 希望`错误处理作业`跟生成中间代码放在一起，输出形式上可以仍然只检查错误代码。

  这样可以保证语义错误的检查与后续流程可以使用同样的符号表，减少因为错误处理阶段因为考虑不全、仓促实现而造成的不必要的麻烦。

+ 优化评测机

  感觉评测机的速度慢得不太正常，怀疑是不是每个点单独编译了

+ 考试的题量控制一下

  如果不能控制题量，延长考试时间也可以呀，让大多数同学踩线做完是不是不太合适

  以及，到达定义分析和冲突图给的地方为啥这么小